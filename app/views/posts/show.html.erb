<!-- posts/show.html.erb の OGPタグ設定 -->
<!-- posts/show.html.erb の OGPタグ設定 -->
<% cache_buster = @post.updated_at.to_i %>

<% content_for :og_title, "【More golfに「#{@post.tag&.name || '未設定'}」を投稿しました】" %>
<% content_for :og_description, truncate(@post.body.to_s, length: 100) %>

<% ogp_image_url =
    if @post.image.present?
      "#{@post.image.ogp.url}?v=#{cache_buster}" 
    else
      image_url("default_ogp.webp")
    end
%>

<% content_for :og_image, ogp_image_url %>







<% case @post.tag&.name %>
<% when "スコア記録" %>
  <%= render partial: "posts/show_form/show_score_record", locals: { post: @post } %>
<% when "練習記録" %>
  <%= render partial: "posts/show_form/show_practice_record", locals: { post: @post } %>
<% else %>
  <%= render partial: "posts/show_form/show_default", locals: { post: @post } %>
<% end %>
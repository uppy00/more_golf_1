<% content_for :title, "More.golf" %>

<!-- ヒーローエリア -->
<div class="relative">
  <%= image_tag "img01.webp", class: "w-full h-[350px] object-cover" %>

  <div class="absolute inset-0 flex flex-col items-center justify-center text-center text-white px-4">
    <div class="text-4xl sm:text-5xl md:text-6xl font-bold">
      Let's play golf
    </div>
    <div class="mt-4 sm:mt-6 text-lg sm:text-2xl md:text-3xl font-semibold">
      日々のゴルフの記録を、もっと楽しく。
    </div>

    <!-- メインCTA -->
    <div class="mt-8 flex flex-col sm:flex-row gap-4">
      <%= link_to new_post_path(tag_id: 1), class: "group relative inline-flex h-12 w-56 items-center justify-center overflow-hidden rounded-md bg-green-600 px-6 font-medium text-neutral-50 text-lg" do %>
        <span class="absolute h-0 w-0 rounded-full bg-green-500 transition-all duration-300 group-hover:h-56 group-hover:w-68"></span>
        <span class="relative">練習を記録する</span>
      <% end %>

      <%= link_to new_post_path(tag_id: 2), class: "group relative inline-flex h-12 w-56 items-center justify-center overflow-hidden rounded-md bg-gray-700 px-6 font-medium text-neutral-50 text-lg" do %>
        <span class="absolute h-0 w-0 rounded-full bg-slate-500 transition-all duration-300 group-hover:h-56 group-hover:w-68"></span>
        <span class="relative">スコアを記録する</span>
      <% end %>
    </div>
  </div>
</div>
<!-- ヒーローのすぐ下あたりに追加 -->
<div class="mt-3 px-4 md:hidden">
  <div class="rounded-lg bg-black/60 text-white text-sm px-3 py-2 inline-flex items-center gap-2">
    <i class="fa-solid fa-bars"></i>
    <span>右上のメニューから、投稿一覧やマイページに移動できます。</span>
  </div>
</div>

<!-- 機能カード -->
<section class="max-w-5xl mx-auto mt-10 px-4">
  <h2 class="text-2xl sm:text-3xl font-bold text-center">More.golfでできること</h2>
  <p class="mt-3 text-center text-gray-600">
    練習・スコア・質問・クラブ管理まで、ゴルフライフをまるごと記録できます。
  </p>

  <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-6">
    <div class="rounded-lg border bg-white p-5 shadow-sm">
      <h3 class="text-xl font-semibold mb-2">練習記録</h3>
      <p class="text-gray-700 text-sm sm:text-base">
        練習場・球数・意識したことなどを残して、上達のプロセスを振り返れます。
      </p>
    </div>

    <div class="rounded-lg border bg-white p-5 shadow-sm">
      <h3 class="text-xl font-semibold mb-2">スコア記録</h3>
      <p class="text-gray-700 text-sm sm:text-base">
        コース名やスコア、反省点を一緒に記録。過去ラウンドの振り返りに。
      </p>
    </div>

    <div class="rounded-lg border bg-white p-5 shadow-sm">
      <h3 class="text-xl font-semibold mb-2">質問掲示板</h3>
      <p class="text-gray-700 text-sm sm:text-base">
        スイングの悩みやクラブ選びなど、質問タグで気軽に相談できます。
      </p>
    </div>

    <div class="rounded-lg border bg-white p-5 shadow-sm">
      <h3 class="text-xl font-semibold mb-2">クラブ登録</h3>
      <p class="text-gray-700 text-sm sm:text-base">
        自分のクラブセットを登録して、他の人がどんなクラブを使っているかもチェック。
      </p>
    </div>
  </div>
</section>
<!-- 質問タグ -->
<section class="max-w-4xl mx-auto mt-16 px-4">
  <div class="card lg:card-side bg-base-100 shadow-md">
    <figure class="w-full lg:w-1/2">
      <%= image_tag "golf_question.webp",
            class: "w-full h-full object-cover" %>
    </figure>
    <div class="card-body">
      <h2 class="card-title text-2xl">わからないことは「質問タグ」で解決</h2>
      <p class="mt-2 text-gray-700">
        スイング、ルール、マナー、クラブ選び…分からないことは質問してみよう。
        コメントでみんなが答えてくれます。
      </p>
      <div class="card-actions justify-end mt-4">
        <%= link_to posts_path(q: { tag_id_eq: 3}),
              class: "btn btn-outline btn-sm sm:btn-md" do %>
          質問タグの投稿を見る
        <% end %>
      </div>
    </div>
  </div>
</section>
<!-- クラブ登録 -->
<section class="max-w-4xl mx-auto mt-16 px-4 mb-20">
  <div class="card lg:card-side bg-base-100 shadow-md">
    <figure class="w-full lg:w-1/2">
      <%= image_tag "my_golf_gear.webp",
            class: "w-full h-full object-cover" %>
    </figure>
    <div class="card-body">
      <h2 class="card-title text-2xl">自分のクラブを登録しよう</h2>
      <p class="mt-2 text-gray-700">
        ドライバーからパターまで、自分のクラブを一覧で管理。
        他のユーザーがどんなクラブを使っているかを見るのも楽しい。
      </p>
      <div class="card-actions justify-end mt-4">
        <% if current_user.golf_gear.present? %>
          <%= link_to user_golf_gear_path(current_user),
                class: "btn btn-primary btn-sm sm:btn-md" do %>
            マイクラブを見る
          <% end %>
        <% else %>
          <%= link_to new_user_golf_gear_path(current_user),
                class: "btn btn-primary btn-sm sm:btn-md" do %>
            マイクラブを登録する
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</section>

<!-- 最新の投稿（ダイジェスト） -->
<section class="max-w-5xl mx-auto mt-12 px-4">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-xl sm:text-2xl font-bold">みんなの最新投稿</h2>
    <%= link_to "投稿一覧を見る", posts_path, class: "text-sm sm:text-base text-green-700 hover:underline" %>
  </div>

  <% @recent_posts&.each do |post| %>
    <div class="mb-4 rounded-lg border bg-white p-4 shadow-sm">
      <div class="flex items-center justify-between">
        <p class="text-sm text-gray-500">
          <%= l post.created_at, format: :short %> ・ <%= post.tag.name %>
        </p>
        <p class="text-sm text-gray-700">
          by <%= post.user.nickname %>
        </p>
      </div>
      <h3 class="mt-2 font-semibold"><%= post.title %></h3>
      <p class="mt-1 text-sm text-gray-700 line-clamp-2"><%= post.body %></p>
      <div class="mt-2 text-right">
        <%= link_to "投稿を見る", post_path(post), class: "text-sm text-green-700 hover:underline" %>
      </div>
    </div>
  <% end %>
</section>
<section class="max-w-5xl mx-auto mt-12 px-4">
  <h2 class="text-2xl sm:text-3xl font-bold text-center mb-6">
    More.golfの使い方
  </h2>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">

    <!-- 投稿を見るガイド -->
    <div class="card bg-base-100 shadow-md">
      <div class="card-body items-center text-center">
        <div class="w-24 h-24">
          <%= image_tag "golf_practice.webp", class: "rounded-xl object-cover" %>
        </div>
        <h3 class="card-title mt-4 text-xl font-bold">投稿を見るには？</h3>
        <p class="text-gray-600 mt-2">
          気になる投稿があったら<br>
          <span class="font-semibold text-green-600">タイトルをクリック！</span>
        </p>
        <p class="text-sm text-gray-500 mt-1">
          写真をタップしても開けます。
        </p>
      </div>
    </div>

    <!-- 人のページを見るガイド -->
    <div class="card bg-base-100 shadow-md">
      <div class="card-body items-center text-center">
        <div class="w-24 h-24 rounded-full overflow-hidden">
          <%= image_tag "avatar_sample.webp", class: "object-cover" %>
        </div>
        <h3 class="card-title mt-4 text-xl font-bold">ユーザーページを見るには？</h3>
        <p class="text-gray-600 mt-2">
          投稿者の<br>
          <span class="font-semibold text-blue-600">アカウント名をクリック！</span>
        </p>
        <p class="text-sm text-gray-500 mt-1">
          プロフィール・投稿一覧が見れます。
        </p>
      </div>
    </div>

  </div>
</section>

<!-- ゴルフ入門（初心者向け導線） -->
<section class="max-w-3xl mx-auto mt-16 px-4 mb-16">
  <div class="text-center">
    <h2 class="text-2xl sm:text-3xl font-bold">ゴルフをこれから始める方へ</h2>
    <p class="mt-4 text-gray-700 text-base sm:text-lg">
      ルールやマナー、始め方をまとめた「ゴルフ入門」ページも用意しました。
    </p>
    <div class="flex items-center justify-center mt-6">
      <%= link_to page_path('golf_start'),
                  class: "group relative inline-flex h-12 w-56 items-center justify-center overflow-hidden rounded-md bg-gray-500 px-6 font-medium text-neutral-50 text-lg" do %>
        <span class="absolute h-0 w-0 rounded-full bg-green-500 transition-all duration-300 group-hover:h-32 group-hover:w-56"></span>
        <span class="relative">ゴルフ入門へ</span>
      <% end %>
    </div>
  </div>
</section>
